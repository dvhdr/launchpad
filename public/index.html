<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<title>Launchpad Remix Machine</title>

<link rel="stylesheet" href="css/main.css" type="text/css">

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src='http://cwilso.github.com/WebMIDIAPIShim/WebMIDIAPI.js'></script>
<script src="js/midi.js"></script>
<script src='js/remix.js'></script>
<script src='js/audio.js'></script>

</head>

<body>


<script type="text/javascript">



function fetchSig() {
    var url = 'http://labs.echonest.com/Uploader/policy?callback=?'
    $.getJSON(url, {}, function(data) {
        console.log("hosdhsojh");
        console.log(url);
        //policy = data.policy;
        //signature = data.signature;
        $('#f-policy').val(data.policy);
        $('#f-signature').val(data.signature);
        $('#f-key').val(data.key);
    });
}

window.onload = fetchSig;

</script>

<div id="mainContent">
<p>Launchpad Remix Machine</p>
<p id='info'> </p>

<button onClick="playOriginal();">Play original</button>
<button onClick="stopLooping();">Stop!</button>

</div>


        <div id='select-track'>
            <form action="https://s3.amazonaws.com/static.echonest.com" method="post" enctype="multipart/form-data">
              <input id='f-filename' type="hidden" name="key" value="remix_audio/${filename}">
            <input id='f-key' type="hidden" name="AWSAccessKeyId" value="YOUR_AWS_ACCESS_KEY">
           
           <input type="hidden" name="acl" value="public-read"> 
           
            <input id='redirect-url' type="hidden" name="success_action_redirect"
                  value="https://c9.io/davehodder/launchpad/workspace/public/index.html">
             <input id='f-policy' type="hidden" name="policy" value="YOUR_POLICY_DOCUMENT_BASE64_ENCODED">
             <input id='f-signature' type="hidden" name="signature" value="YOUR_CALCULATED_SIGNATURE">
              <input type="hidden" name="Content-Type" value="audio/mpeg">
              Select an <b>MP3</b> to upload : <input  id="file" name="file" type="file"> 
              <br>
              <input class="btn btn-primary btn-default" id='upload' type="submit" value="Upload MP3"> 
            </form> 
        </div>

<p></p>

<div id="universe"/></div>

<p>
	MIDI In:
	<select id=midiIn onchange='changeMidiIn();'>
		<option value="">Not connected</option>
	</select>
	MIDI Out:
	<select id=midiOut onchange='changeMidiOut();'>
		<option value="">Not connected</option>
	</select>
</p>

</body>
</html>
















